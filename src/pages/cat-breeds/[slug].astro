---
import Layout from "../../layouts/Layout.astro";

// getStaticPaths runs at build time and tells Astro which dynamic
// routes to generate for this [param].astro file.
// It must return an array of objects with the shape:
//   { params: { ... }, props?: { ... } }
// - params: defines the URL values (e.g. { id: "1" })
// - props (optional): extra data available in Astro.prop

export const getStaticPaths = () => {
  // mocking cat breeds fetched from an API call
  const catBreeds = [
    {
      id: 1,
      title: "Siamese",
      slug: "siamese",
      content:
        "The Siamese cat is known for its slender body, blue eyes, and vocal personality.",
    },
    {
      id: 2,
      title: "Maine Coon",
      slug: "maine-coon",
      content:
        "Maine Coons are large, gentle cats with long fur and tufted ears.",
    },
    {
      id: 3,
      title: "Bengal",
      slug: "bengal",
      content:
        "Bengal cats have a striking spotted or marbled coat that resembles a wild leopard.",
    },
    {
      id: 4,
      title: "Persian",
      slug: "persian",
      content:
        "Persians are long-haired cats with a flat face and calm, affectionate temperament.",
    },
    {
      id: 5,
      title: "Sphynx",
      slug: "sphynx",
      content:
        "The Sphynx is a hairless cat breed, famous for its wrinkled skin and playful nature.",
    },
  ];

  return catBreeds.map((breed) => ({
    params: { id: breed.id, slug: breed.slug },
    props: { breed },
  }));
};

const { id, slug } = Astro.params;
const { breed } = Astro.props;
---

<Layout pageTitle={breed.title}>
  <h1>{breed.title}</h1>
  <p>{breed.content}</p>
</Layout>
